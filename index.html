<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Pr√©vention Chauffeur Routier</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>

/* VARIABLES */

:root{
--primary:#1e3a8a;
--secondary:#0ea5e9;
--bg:#f8fafc;
--text:#0f172a;
--card:#ffffff;
}

body.dark{
--bg:#020617;
--text:#f1f5f9;
--card:#020617;
--primary:#38bdf8;
}

*{
box-sizing:border-box;
margin:0;
padding:0;
font-family:Segoe UI,Tahoma;
}

body{
background:var(--bg);
color:var(--text);
transition:.3s;
}


/* MENU */

nav{
display:flex;
justify-content:space-between;
align-items:center;
padding:15px 25px;
background:var(--card);
box-shadow:0 4px 12px rgba(0,0,0,.1);
position:sticky;
top:0;
z-index:1000;
}

nav ul{
display:flex;
list-style:none;
gap:15px;
align-items:center;
}

nav a{
text-decoration:none;
color:var(--text);
font-weight:500;
}

.dark-btn{
background:none;
border:none;
font-size:20px;
cursor:pointer;
}


/* HEADER */

header{
background:linear-gradient(135deg,var(--primary),var(--secondary));
color:white;
text-align:center;
padding:60px 20px;
}


/* SECTIONS */

section{
max-width:1100px;
margin:auto;
padding:40px 20px;
}

h3{
color:var(--primary);
margin-bottom:20px;
font-size:28px;
}


/* CARDS */

.cards{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(230px,1fr));
gap:20px;
}

.card{
background:var(--card);
padding:25px;
border-radius:20px;
text-align:center;
text-decoration:none;
color:var(--text);
box-shadow:0 10px 25px rgba(0,0,0,.1);
transition:.3s;
cursor:pointer;
}

.card:hover{
transform:scale(1.05);
}

.card i{
font-size:32px;
color:var(--secondary);
margin-bottom:10px;
}


/* PROGRESSION */

.progress-container{
background:#e5e7eb;
border-radius:30px;
overflow:hidden;
height:28px;
margin:15px 0;
}

.progress-bar{
height:100%;
width:0%;
background:linear-gradient(90deg,var(--secondary),var(--primary));
color:white;
font-weight:bold;
display:flex;
align-items:center;
justify-content:center;
transition:.5s;
}


/* AUTH PRO */

.auth-container{
min-height:60vh;
display:flex;
justify-content:center;
align-items:center;
}

.auth-card{
background:var(--card);
padding:35px 30px;
width:100%;
max-width:380px;
border-radius:20px;
text-align:center;
box-shadow:0 15px 40px rgba(0,0,0,.15);
animation:fadeIn .6s ease;
}

.auth-card h2{
margin-bottom:20px;
color:var(--primary);
}

.auth-card input{
width:100%;
padding:12px;
margin:10px 0;
border-radius:12px;
border:1px solid #ccc;
font-size:15px;
}

.auth-card input:focus{
outline:none;
border-color:var(--secondary);
}

.auth-card button{
width:100%;
padding:12px;
margin-top:15px;
border:none;
border-radius:20px;
background:var(--secondary);
color:white;
font-size:16px;
cursor:pointer;
transition:.3s;
}

.auth-card button:hover{
opacity:.9;
}

#logoutBtn{
display:none;
background:#ef4444;
margin-top:10px;
}

@keyframes fadeIn{
from{opacity:0;transform:translateY(20px);}
to{opacity:1;transform:translateY(0);}
}

footer{
background:var(--primary);
color:white;
text-align:center;
padding:20px;
margin-top:40px;
}

</style>
</head>

<body>


<!-- MENU -->

<nav>
<h2><i class="fa-solid fa-truck"></i> Chauffeur Routier</h2>

<ul>
<li><a href="#routine">Routine</a></li>

<li>
<button class="dark-btn" onclick="toggleDark()">
<i class="fa-solid fa-moon"></i>
</button>
</li>
</ul>
</nav>


<!-- HEADER -->

<header>
<h1>Routine d‚Äô√©chauffement</h1>
<p>Pr√©vention des risques professionnels</p>
</header>

<section id="auth" class="auth-container">

<div class="auth-card">

<div class="auth-tabs">

<button id="tabLogin" class="active" onclick="showLogin()">
Connexion
</button>

<button id="tabRegister" onclick="showRegister()">
Cr√©er un compte
</button>

</div>


<!-- LOGIN -->

<div id="loginForm">

<h2>üîê Connexion</h2>

<input id="loginName" type="text" placeholder="Nom d'utilisateur">

<input id="loginPass" type="password" placeholder="Mot de passe">

<button onclick="login()">Se connecter</button>

<p id="loginMsg"></p>

</div>


<!-- REGISTER -->

<div id="registerForm" style="display:none;">

<h2>üìù Inscription</h2>

<input id="regName" type="text" placeholder="Nom d'utilisateur">

<input id="regPass" type="password" placeholder="Mot de passe">

<input id="regPass2" type="password" placeholder="Confirmer mot de passe">

<button onclick="register()">Cr√©er mon compte</button>

<p id="registerMsg"></p>

</div>


<p id="welcomeText"></p>

<button id="logoutBtn" onclick="logout()">D√©connexion</button>

</div>

</section>


<!-- ROUTINE -->

<section id="routine">

<h3>Ta s√©ance</h3>

<p>
Exercices termin√©s :
<span id="doneCount">0</span> / 6
</p>


<div class="progress-container">
<div id="progress" class="progress-bar">0%</div>
</div>


<div class="cards">

<a href="nuque.html" class="card" onclick="addProgress(event)">
<i class="fa-solid fa-head-side-virus"></i>
<h4>Nuque</h4>
</a>

<a href="epaules.html" class="card" onclick="addProgress(event)">
<i class="fa-solid fa-person-walking"></i>
<h4>√âpaules</h4>
</a>

<a href="tronc.html" class="card" onclick="addProgress(event)">
<i class="fa-solid fa-rotate"></i>
<h4>Tronc</h4>
</a>

<a href="poignets.html" class="card" onclick="addProgress(event)">
<i class="fa-solid fa-hand"></i>
<h4>Poignets</h4>
</a>

<a href="jambes.html" class="card" onclick="addProgress(event)">
<i class="fa-solid fa-person-running"></i>
<h4>Jambes</h4>
</a>

<a href="dos.html" class="card" onclick="addProgress(event)">
<i class="fa-solid fa-person-rays"></i>
<h4>Dos</h4>
</a>

</div>

<button onclick="finish()" style="margin-top:20px;padding:10px 25px;">
üéâ Terminer
</button>

</section>


<!-- HISTORIQUE -->

<section id="history">

<h3>üìä Historique</h3>

<ul id="historyList" style="list-style:none;padding:0;"></ul>

</section>


<footer>
<p>¬© 2026 - JUJU411315</p>
</footer>

// USERS DB
function getUsers(){
return JSON.parse(localStorage.getItem("users")) || [];
}

function saveUsers(arr){
localStorage.setItem("users", JSON.stringify(arr));
}


// SWITCH FORMS
function showLogin(){
loginForm.style.display="block";
registerForm.style.display="none";

tabLogin.classList.add("active");
tabRegister.classList.remove("active");
}

function showRegister(){
loginForm.style.display="none";
registerForm.style.display="block";

tabRegister.classList.add("active");
tabLogin.classList.remove("active");
}


// REGISTER
function register(){

let name=regName.value.trim();
let pass=regPass.value.trim();
let pass2=regPass2.value.trim();

if(name.length<3){
registerMsg.textContent="Nom trop court";
return;
}

if(pass.length<4){
registerMsg.textContent="Mot de passe trop court";
return;
}

if(pass!==pass2){
registerMsg.textContent="Les mots de passe ne correspondent pas";
return;
}

let users=getUsers();

if(users.find(u=>u.name===name)){
registerMsg.textContent="Nom d√©j√† utilis√©";
return;
}

users.push({name,pass});
saveUsers(users);

registerMsg.style.color="green";
registerMsg.textContent="Compte cr√©√© ! Connecte-toi üëá";

showLogin();
}


// LOGIN
function login(){

let name=loginName.value.trim();
let pass=loginPass.value.trim();

let users=getUsers();

let user=users.find(u=>u.name===name && u.pass===pass);

if(!user){
loginMsg.textContent="Identifiants incorrects";
return;
}

localStorage.setItem("user",JSON.stringify(user));

location.reload();
}

<script>

// DARK MODE
function toggleDark(){
document.body.classList.toggle("dark");
}


// AUTH
function loadUser(){

let user = JSON.parse(localStorage.getItem("user"));

if(user){

document.getElementById("welcomeText").textContent =
"Bienvenue, "+user.name+" üëã";

document.querySelector(".auth-card").style.display="none";
document.getElementById("logoutBtn").style.display="inline";

}

}

function login(){

let name = loginName.value.trim();
let pass = loginPass.value.trim();

if(name.length<2 || pass.length<3){
alert("Donn√©es invalides");
return;
}

localStorage.setItem("user",JSON.stringify({name,pass}));

location.reload();
}

function logout(){
localStorage.removeItem("user");
location.reload();
}


// DATA
const exercises=["nuque","epaules","tronc","poignets","jambes","dos"];

const names={
nuque:"Nuque",
epaules:"√âpaules",
tronc:"Tronc",
poignets:"Poignets",
jambes:"Jambes",
dos:"Dos"
};


// PROGRESS
function addProgress(e){

let doneList=JSON.parse(localStorage.getItem("doneList"))||[];
let history=JSON.parse(localStorage.getItem("history"))||[];

let link=e.currentTarget.getAttribute("href");
let id=link.replace(".html","");

if(!doneList.includes(id)){

doneList.push(id);

localStorage.setItem("doneList",JSON.stringify(doneList));

let today=new Date().toLocaleDateString();
let user=JSON.parse(localStorage.getItem("user"))?.name||"Invit√©";

history.push({
date:today,
action:names[id]+" termin√©",
user:user
});

localStorage.setItem("history",JSON.stringify(history));
}

}


// LOAD
document.addEventListener("DOMContentLoaded",()=>{

loadUser();

let doneList=JSON.parse(localStorage.getItem("doneList"))||[];
let history=JSON.parse(localStorage.getItem("history"))||[];

let done=doneList.length;

doneCount.textContent=done;

let percent=Math.round((done/exercises.length)*100);

progress.style.width=percent+"%";
progress.textContent=percent+"%";

showHistory(history);

});


// FIN
function finish(){

let doneList=JSON.parse(localStorage.getItem("doneList"))||[];
let history=JSON.parse(localStorage.getItem("history"))||[];

let today=new Date().toLocaleDateString();
let user=JSON.parse(localStorage.getItem("user"))?.name||"Invit√©";

history.push({
date:today,
score:doneList.length+"/6",
user:user
});

localStorage.setItem("history",JSON.stringify(history));
localStorage.removeItem("doneList");

alert("S√©ance enregistr√©e");

location.reload();
}


// HISTO
function showHistory(arr){

let list=historyList;
list.innerHTML="";

arr.slice().reverse().forEach(i=>{

let li=document.createElement("li");

li.style.background="#e0f2fe";
li.style.padding="10px";
li.style.margin="6px 0";
li.style.borderRadius="10px";

li.textContent=i.action
?`${i.date} ‚Üí ${i.action} (${i.user})`
:`${i.date} ‚Üí ${i.score} (${i.user})`;

list.appendChild(li);

});

}

</script>

</body>
</html>
