<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Chauffeur Routier</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>

/* VARIABLES */

:root{
--primary:#1e3a8a;
--secondary:#0ea5e9;
--bg:#f8fafc;
--text:#0f172a;
--card:#ffffff;
}

body.dark{
--bg:#020617;
--text:#f1f5f9;
--card:#020617;
--primary:#38bdf8;
}

*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:Segoe UI;
}

body{
background:var(--bg);
color:var(--text);
}

/* NAV */

nav{
display:flex;
justify-content:space-between;
align-items:center;
padding:15px 25px;
background:var(--card);
box-shadow:0 4px 12px rgba(0,0,0,.1);
}

nav ul{
display:flex;
list-style:none;
gap:15px;
}

nav a{color:var(--text);text-decoration:none}

.dark-btn{border:none;background:none;font-size:20px;cursor:pointer}

/* HEADER */

header{
background:linear-gradient(135deg,var(--primary),var(--secondary));
color:white;
text-align:center;
padding:50px 20px;
}

/* SECTION */

section{
max-width:1100px;
margin:auto;
padding:40px 20px;
}

/* AUTH */

.auth-container{
min-height:50vh;
display:flex;
justify-content:center;
align-items:center;
}

.auth-card{
background:var(--card);
padding:30px;
width:100%;
max-width:360px;
border-radius:20px;
text-align:center;
box-shadow:0 10px 30px rgba(0,0,0,.2);
}

.auth-tabs{
display:flex;
margin-bottom:20px;
}

.auth-tabs button{
flex:1;
padding:10px;
border:none;
cursor:pointer;
background:#ddd;
}

.auth-tabs .active{
background:var(--secondary);
color:white;
}

.auth-card input{
width:100%;
padding:10px;
margin:8px 0;
border-radius:10px;
border:1px solid #ccc;
}

.auth-card button{
width:100%;
padding:10px;
margin-top:10px;
border:none;
border-radius:20px;
background:var(--secondary);
color:white;
cursor:pointer;
}

/* CARDS */

.cards{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:20px;
}

.card{
background:var(--card);
padding:25px;
border-radius:20px;
text-align:center;
text-decoration:none;
color:var(--text);
box-shadow:0 5px 20px rgba(0,0,0,.1);
transition:.3s;
}

.card:hover{transform:scale(1.05)}

.card i{font-size:30px;color:var(--secondary)}

/* PROGRESS */

.progress-container{
background:#ddd;
border-radius:20px;
height:25px;
overflow:hidden;
margin:15px 0;
}

.progress-bar{
height:100%;
width:0%;
background:linear-gradient(90deg,var(--secondary),var(--primary));
color:white;
display:flex;
justify-content:center;
align-items:center;
}

/* FOOTER */

footer{
background:var(--primary);
color:white;
text-align:center;
padding:15px;
}

</style>
</head>

<body>

<nav>
<h2>ðŸšš Chauffeur Routier</h2>

<ul>
<li><a href="#routine">Routine</a></li>
<li><button class="dark-btn" onclick="toggleDark()">ðŸŒ™</button></li>
</ul>
</nav>

<header>
<h1>Routine dâ€™Ã©chauffement</h1>
<p>PrÃ©vention santÃ©</p>
</header>


<!-- AUTH -->

<section id="auth" class="auth-container">

<div class="auth-card">

<div class="auth-tabs">

<button id="tabLogin" class="active" onclick="showLogin()">Connexion</button>
<button id="tabRegister" onclick="showRegister()">CrÃ©er compte</button>

</div>


<div id="loginForm">

<input id="loginName" placeholder="Nom">
<input id="loginPass" type="password" placeholder="Mot de passe">

<button onclick="login()">Connexion</button>

<p id="loginMsg"></p>

</div>


<div id="registerForm" style="display:none">

<input id="regName" placeholder="Nom">
<input id="regPass" type="password" placeholder="Mot de passe">
<input id="regPass2" type="password" placeholder="Confirmer">

<button onclick="register()">CrÃ©er</button>

<p id="registerMsg"></p>

</div>


<p id="welcomeText"></p>

<button id="logoutBtn" onclick="logout()">DÃ©connexion</button>

</div>

</section>


<!-- ROUTINE -->

<section id="routine">

<h3>Ta sÃ©ance</h3>

<p>Exercices : <span id="doneCount">0</span>/6</p>

<div class="progress-container">
<div id="progress" class="progress-bar">0%</div>
</div>

<div class="cards">

<a href="nuque.html" class="card" onclick="addProgress(event)">
<i class="fa-solid fa-head-side-virus"></i><h4>Nuque</h4></a>

<a href="epaules.html" class="card" onclick="addProgress(event)">
<i class="fa-solid fa-person-walking"></i><h4>Ã‰paules</h4></a>

<a href="tronc.html" class="card" onclick="addProgress(event)">
<i class="fa-solid fa-rotate"></i><h4>Tronc</h4></a>

<a href="poignets.html" class="card" onclick="addProgress(event)">
<i class="fa-solid fa-hand"></i><h4>Poignets</h4></a>

<a href="jambes.html" class="card" onclick="addProgress(event)">
<i class="fa-solid fa-person-running"></i><h4>Jambes</h4></a>

<a href="dos.html" class="card" onclick="addProgress(event)">
<i class="fa-solid fa-person-rays"></i><h4>Dos</h4></a>

</div>

<button onclick="finish()">ðŸŽ‰ Terminer</button>

</section>


<section>

<h3>ðŸ“Š Historique</h3>
<ul id="historyList"></ul>

</section>


<footer>
Â© 2026 JUJU411315
</footer>


<script>

/* DARK */

function toggleDark(){
document.body.classList.toggle("dark");
}

/* USERS */

function getUsers(){
return JSON.parse(localStorage.getItem("users"))||[];
}

function saveUsers(a){
localStorage.setItem("users",JSON.stringify(a));
}

/* SWITCH */

const loginForm=document.getElementById("loginForm");
const registerForm=document.getElementById("registerForm");
const tabLogin=document.getElementById("tabLogin");
const tabRegister=document.getElementById("tabRegister");

function showLogin(){
loginForm.style.display="block";
registerForm.style.display="none";
tabLogin.classList.add("active");
tabRegister.classList.remove("active");
}

function showRegister(){
loginForm.style.display="none";
registerForm.style.display="block";
tabRegister.classList.add("active");
tabLogin.classList.remove("active");
}

/* REGISTER */

function register(){

let n=regName.value.trim();
let p=regPass.value.trim();
let p2=regPass2.value.trim();

if(n.length<3||p.length<4||p!==p2){
registerMsg.textContent="Erreur inscription";
return;
}

let users=getUsers();

if(users.find(u=>u.name===n)){
registerMsg.textContent="DÃ©jÃ  pris";
return;
}

users.push({name:n,pass:p});
saveUsers(users);

registerMsg.style.color="green";
registerMsg.textContent="Compte crÃ©Ã©";

showLogin();
}

/* LOGIN */

function login(){

let n=loginName.value.trim();
let p=loginPass.value.trim();

let user=getUsers().find(u=>u.name===n&&u.pass===p);

if(!user){
loginMsg.textContent="Erreur";
return;
}

localStorage.setItem("user",JSON.stringify(user));

location.reload();
}

/* LOGOUT */

function logout(){
localStorage.removeItem("user");
location.reload();
}

/* EXERCICES */

const ex=["nuque","epaules","tronc","poignets","jambes","dos"];

function addProgress(e){

let list=JSON.parse(localStorage.getItem("doneList"))||[];
let hist=JSON.parse(localStorage.getItem("history"))||[];

let id=e.currentTarget.href.split("/").pop().replace(".html","");

if(!list.includes(id)){

list.push(id);
localStorage.setItem("doneList",JSON.stringify(list));

let user=JSON.parse(localStorage.getItem("user"))?.name||"InvitÃ©";

hist.push({
date:new Date().toLocaleDateString(),
action:id+" terminÃ©",
user:user
});

localStorage.setItem("history",JSON.stringify(hist));
}

}

/* LOAD */

document.addEventListener("DOMContentLoaded",()=>{

let user=JSON.parse(localStorage.getItem("user"));

if(user){
auth.style.display="none";
welcomeText.textContent="Bienvenue "+user.name;
logoutBtn.style.display="block";
}

let list=JSON.parse(localStorage.getItem("doneList"))||[];

doneCount.textContent=list.length;

let p=Math.round(list.length/ex.length*100);

progress.style.width=p+"%";
progress.textContent=p+"%";

showHistory(JSON.parse(localStorage.getItem("history"))||[]);

showLogin();

});

/* FIN */

function finish(){

let list=JSON.parse(localStorage.getItem("doneList"))||[];
let hist=JSON.parse(localStorage.getItem("history"))||[];

let user=JSON.parse(localStorage.getItem("user"))?.name||"InvitÃ©";

hist.push({
date:new Date().toLocaleDateString(),
score:list.length+"/6",
user:user
});

localStorage.setItem("history",JSON.stringify(hist));
localStorage.removeItem("doneList");

alert("SauvegardÃ©");

location.reload();
}

/* HISTO */

function showHistory(a){

historyList.innerHTML="";

a.slice().reverse().forEach(i=>{

let li=document.createElement("li");

li.textContent=i.action
?`${i.date} â†’ ${i.action} (${i.user})`
:`${i.date} â†’ ${i.score} (${i.user})`;

historyList.appendChild(li);

});

}

</script>

</body>
</html>
